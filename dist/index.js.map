{"version":3,"file":"index.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/components/Range.js","../src/components/Score.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from '../styles.css';\n\nexport default class Score extends React.Component {\n  static propTypes = {\n    scoreNumber: PropTypes.number.isRequired,\n    width: PropTypes.number,\n    lineWidth: PropTypes.number,\n    lineSpacing: PropTypes.number,\n    maxAngle: PropTypes.number,\n    rotation: PropTypes.number,\n    stepsColors: PropTypes.array.isRequired,\n  };\n\n  static defaultProps = {\n    width: 200,\n    lineWidth: 5,\n    lineSpacing: 5,\n    maxAngle: 260,\n    rotation: 90,\n  };\n\n  static hex2rgba(hex, opacity = 1) {\n    const newhex = hex.replace('#', '');\n    const r = parseInt(newhex.substring(0, 2), 16);\n    const g = parseInt(newhex.substring(2, 4), 16);\n    const b = parseInt(newhex.substring(4, 6), 16);\n\n    const result = `rgba(${r}, ${g}, ${b}, ${opacity / 100})`;\n    return result;\n  }\n\n  static draw(canvas, ctx, lineWidth, lineSpacing, maxAngle, rotation, scoreNumber, colors) {\n    const halfWidth = canvas.width / 2;\n    const pieSize = maxAngle / colors.length;\n    let lastval = 0;\n\n    ctx.clearRect(halfWidth * -1, halfWidth * -1, canvas.width, canvas.height);\n    ctx.resetTransform();\n\n    ctx.translate(canvas.width / 2, canvas.width / 2);\n    ctx.rotate(Math.PI * 2 * ((rotation + (360 - maxAngle - lineSpacing) / 2) / 360));\n\n    for (let i = 0; i < colors.length; i++) {\n      ctx.beginPath();\n      ctx.arc(\n        0,\n        0,\n        halfWidth - lineWidth / 2,\n        Math.PI * 2 * ((lastval + lineSpacing) / 360),\n        Math.PI * 2 * ((lastval + pieSize) / 360),\n      );\n      lastval += pieSize;\n      if (scoreNumber < i + 1) ctx.strokeStyle = Score.hex2rgba(colors[i], 40);\n      else ctx.strokeStyle = colors[i];\n      ctx.lineWidth = lineWidth;\n      ctx.stroke();\n    }\n  }\n\n  constructor() {\n    super();\n    this.canvas = null;\n    this.ctx = null;\n\n    this.setCanvasRef = (element) => {\n      if (element) {\n        this.canvas = element;\n        this.ctx = element.getContext('2d');\n      }\n    };\n  }\n\n  componentDidMount() {\n    const {\n      lineWidth,\n      lineSpacing,\n      maxAngle,\n      rotation,\n      scoreNumber,\n      stepsColors,\n    } = this.props;\n\n    if (this.ctx) {\n      Score.draw(\n        this.canvas,\n        this.ctx,\n        lineWidth,\n        lineSpacing,\n        maxAngle,\n        rotation,\n        scoreNumber,\n        stepsColors,\n      );\n    }\n  }\n\n  render() {\n    const {\n      width,\n      lineWidth,\n      lineSpacing,\n      maxAngle,\n      rotation,\n      scoreNumber,\n      stepsColors,\n    } = this.props;\n\n    if (this.ctx) {\n      Score.draw(\n        this.canvas,\n        this.ctx,\n        lineWidth,\n        lineSpacing,\n        maxAngle,\n        rotation,\n        scoreNumber,\n        stepsColors,\n      );\n    }\n\n    return <canvas className={styles.rangeSvg} ref={this.setCanvasRef} height={`${width}px`} width={`${width}px`} />;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Range from './Range';\n\nimport styles from '../styles.css';\n\nexport default class Score extends React.PureComponent {\n  static propTypes = {\n    value: PropTypes.oneOfType([\n      PropTypes.string,\n      PropTypes.number,\n    ]).isRequired,\n    maxValue: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    stepsColors: PropTypes.array.isRequired,\n    textStyle: PropTypes.object,\n  };\n\n  static defaultProps = {\n    textStyle: {},\n  };\n\n  getCurrentColor = (num) => {\n    const { stepsColors } = this.props;\n\n    if (num <= 0) return stepsColors[0];\n    if (num > stepsColors.length) return stepsColors[stepsColors.length - 1];\n\n    return stepsColors[num - 1];\n  };\n\n  render() {\n    const {\n      value,\n      maxValue,\n      width,\n      stepsColors,\n      textStyle,\n    } = this.props;\n\n    const stepRange = maxValue / stepsColors.length;\n    const numberHighlight = Math.ceil(value / stepRange);\n\n    const valueSize = (36 * width) / 200;\n    const maxValueSize = (20 * width) / 200;\n    const scoreValuePosition = (25 * width) / 200;\n\n    return (\n      <div className={styles.scoreWrapper}>\n        <Range scoreNumber={Number(numberHighlight)} {...this.props} />\n        <div\n          className={styles.scoreValue}\n          style={{\n            bottom: scoreValuePosition,\n            color: this.getCurrentColor(numberHighlight),\n            ...textStyle,\n          }}\n        >\n          <span className={styles.value} style={{ fontSize: valueSize }}>\n            {value}\n          </span>\n          <span className={styles.separator} style={{ fontSize: maxValueSize }}>\n            /\n          </span>\n          <span className={styles.maxValue} style={{ fontSize: maxValueSize }}>\n            {maxValue}\n          </span>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\n// components\nimport Score from './components/Score';\n\nimport styles from './styles.css';\n\nconst DEFAULT_STEP_COLORS = [\n  '#d12000',\n  '#ed8d00',\n  '#f1bc00',\n  '#84c42b',\n  '#53b83a',\n  '#3da940',\n  '#3da940',\n  '#3da940',\n];\n\nexport default function ReactScoreIndicator(props) {\n  const { width, style } = props;\n\n  return (\n    <div className={styles.wrapper} style={{ width: `${width}px`, ...style }}>\n      <Score {...props} />\n    </div>\n  );\n}\n\nReactScoreIndicator.propTypes = {\n  value: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.number,\n  ]).isRequired,\n  maxValue: PropTypes.number.isRequired,\n  width: PropTypes.number,\n  lineWidth: PropTypes.number,\n  lineSpacing: PropTypes.number,\n  style: PropTypes.object,\n  textStyle: PropTypes.object,\n  maxAngle: PropTypes.number,\n  rotation: PropTypes.number,\n  stepsColors: PropTypes.array,\n};\n\nReactScoreIndicator.defaultProps = {\n  width: 200,\n  maxAngle: 260,\n  lineWidth: 5,\n  lineSpacing: 5,\n  rotation: 90,\n  stepsColors: DEFAULT_STEP_COLORS,\n  style: {},\n  textStyle: {},\n};\n"],"names":["Score","hex","opacity","newhex","replace","r","parseInt","substring","g","b","result","canvas","ctx","lineWidth","lineSpacing","maxAngle","rotation","scoreNumber","colors","halfWidth","width","pieSize","length","lastval","clearRect","height","resetTransform","translate","rotate","Math","PI","i","beginPath","arc","strokeStyle","hex2rgba","stroke","setCanvasRef","element","getContext","props","stepsColors","draw","styles","rangeSvg","React","Component","propTypes","PropTypes","number","isRequired","array","defaultProps","getCurrentColor","num","value","maxValue","textStyle","stepRange","numberHighlight","ceil","valueSize","maxValueSize","scoreValuePosition","scoreWrapper","Range","Number","scoreValue","fontSize","separator","PureComponent","oneOfType","string","object","DEFAULT_STEP_COLORS","ReactScoreIndicator","style","wrapper"],"mappings":"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"}